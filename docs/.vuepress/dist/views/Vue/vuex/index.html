<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.35">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/favicon.ico"><title>vuexçŠ¶æ€ç®¡ç† | æˆ‘çš„å‰ç«¯å­¦ä¹ è®°å½•</title><meta name="description" content="å¬æ©˜å­æµ·ï¼Œç‚«æ²™ç³–æ¡”">
    <link rel="modulepreload" href="/assets/app.02f2aee7.js"><link rel="modulepreload" href="/assets/index.html.70906024.js"><link rel="modulepreload" href="/assets/index.html.65f2f98d.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/assets/style.b29aeafa.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/orange.png" alt="æˆ‘çš„å‰ç«¯å­¦ä¹ è®°å½•"><span class="site-name can-hide">æˆ‘çš„å‰ç«¯å­¦ä¹ è®°å½•</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/views/js/" class="" aria-label="js"><!--[--><!--]--> js <!--[--><!--]--></a></div><div class="navbar-item"><a href="/views/Http/" class="" aria-label="ç½‘ç»œ"><!--[--><!--]--> ç½‘ç»œ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/views/engineering/" class="" aria-label="å·¥ç¨‹åŒ–"><!--[--><!--]--> å·¥ç¨‹åŒ– <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Vue"><span class="title">Vue</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Vue"><span class="title">Vue</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/views/Vue/vue2-easy/" class="" aria-label="vue2åŸºç¡€"><!--[--><!--]--> vue2åŸºç¡€ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/views/Vue/vue2-mid/" class="" aria-label="vue2è¿›é˜¶"><!--[--><!--]--> vue2è¿›é˜¶ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/views/Vue/vue-cli/" class="" aria-label="vue-cli"><!--[--><!--]--> vue-cli <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/views/Vue/vue-hard/" class="" aria-label="vueåŸç†ç¯‡"><!--[--><!--]--> vueåŸç†ç¯‡ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/views/Vue/vuex/" class="router-link-active router-link-exact-active router-link-active" aria-label="vuexåŸç†"><!--[--><!--]--> vuexåŸç† <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/views/Vue/vue-router/" class="" aria-label="vue-router"><!--[--><!--]--> vue-router <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="React"><span class="title">React</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="React"><span class="title">React</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/views/React/" class="" aria-label="ReactåŸºç¡€"><!--[--><!--]--> ReactåŸºç¡€ <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a href="/views/nodejs/" class="" aria-label="nodejs"><!--[--><!--]--> nodejs <!--[--><!--]--></a></div><div class="navbar-item"><a href="/views/Algorithm/" class="" aria-label="ç®—æ³•"><!--[--><!--]--> ç®—æ³• <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://blog.numb.run" rel="noopener noreferrer" target="_blank" aria-label="ä¸ªäººç©ºé—´"><!--[--><!--]--> ä¸ªäººç©ºé—´ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="å…¶ä»–"><span class="title">å…¶ä»–</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="å…¶ä»–"><span class="title">å…¶ä»–</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/views/other/Git/" class="" aria-label="å…¶ä»–"><!--[--><!--]--> git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/views/other/performance/" class="" aria-label="å…¶ä»–"><!--[--><!--]--> æ€§èƒ½ä¼˜åŒ– <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/views/other/web-safe/" class="" aria-label="å…¶ä»–"><!--[--><!--]--> webå®‰å…¨ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/views/other/typescript/" class="" aria-label="å…¶ä»–"><!--[--><!--]--> typescript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/views/other/micro-web/" class="" aria-label="å…¶ä»–"><!--[--><!--]--> å¾®å‰ç«¯ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/views/other/questions/" class="" aria-label="å…¶ä»–"><!--[--><!--]--> é¢è¯•é¢˜ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/views/other/questions2/" class="" aria-label="å…¶ä»–"><!--[--><!--]--> ç½‘ç»œé¢è¯•é¢˜ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://blog.csdn.net/qq_38594056?type=blog" rel="noopener noreferrer" target="_blank" aria-label="æˆ‘çš„CSDN"><!--[--><!--]--> æˆ‘çš„CSDN <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="åˆ‡æ¢ä¸»é¢˜"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="æœç´¢" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/views/js/" class="" aria-label="js"><!--[--><!--]--> js <!--[--><!--]--></a></div><div class="navbar-item"><a href="/views/Http/" class="" aria-label="ç½‘ç»œ"><!--[--><!--]--> ç½‘ç»œ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/views/engineering/" class="" aria-label="å·¥ç¨‹åŒ–"><!--[--><!--]--> å·¥ç¨‹åŒ– <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Vue"><span class="title">Vue</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Vue"><span class="title">Vue</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/views/Vue/vue2-easy/" class="" aria-label="vue2åŸºç¡€"><!--[--><!--]--> vue2åŸºç¡€ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/views/Vue/vue2-mid/" class="" aria-label="vue2è¿›é˜¶"><!--[--><!--]--> vue2è¿›é˜¶ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/views/Vue/vue-cli/" class="" aria-label="vue-cli"><!--[--><!--]--> vue-cli <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/views/Vue/vue-hard/" class="" aria-label="vueåŸç†ç¯‡"><!--[--><!--]--> vueåŸç†ç¯‡ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/views/Vue/vuex/" class="router-link-active router-link-exact-active router-link-active" aria-label="vuexåŸç†"><!--[--><!--]--> vuexåŸç† <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/views/Vue/vue-router/" class="" aria-label="vue-router"><!--[--><!--]--> vue-router <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="React"><span class="title">React</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="React"><span class="title">React</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/views/React/" class="" aria-label="ReactåŸºç¡€"><!--[--><!--]--> ReactåŸºç¡€ <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a href="/views/nodejs/" class="" aria-label="nodejs"><!--[--><!--]--> nodejs <!--[--><!--]--></a></div><div class="navbar-item"><a href="/views/Algorithm/" class="" aria-label="ç®—æ³•"><!--[--><!--]--> ç®—æ³• <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://blog.numb.run" rel="noopener noreferrer" target="_blank" aria-label="ä¸ªäººç©ºé—´"><!--[--><!--]--> ä¸ªäººç©ºé—´ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="å…¶ä»–"><span class="title">å…¶ä»–</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="å…¶ä»–"><span class="title">å…¶ä»–</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/views/other/Git/" class="" aria-label="å…¶ä»–"><!--[--><!--]--> git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/views/other/performance/" class="" aria-label="å…¶ä»–"><!--[--><!--]--> æ€§èƒ½ä¼˜åŒ– <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/views/other/web-safe/" class="" aria-label="å…¶ä»–"><!--[--><!--]--> webå®‰å…¨ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/views/other/typescript/" class="" aria-label="å…¶ä»–"><!--[--><!--]--> typescript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/views/other/micro-web/" class="" aria-label="å…¶ä»–"><!--[--><!--]--> å¾®å‰ç«¯ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/views/other/questions/" class="" aria-label="å…¶ä»–"><!--[--><!--]--> é¢è¯•é¢˜ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/views/other/questions2/" class="" aria-label="å…¶ä»–"><!--[--><!--]--> ç½‘ç»œé¢è¯•é¢˜ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://blog.csdn.net/qq_38594056?type=blog" rel="noopener noreferrer" target="_blank" aria-label="æˆ‘çš„CSDN"><!--[--><!--]--> æˆ‘çš„CSDN <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a aria-current="page" href="/views/Vue/vuex/" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="vuexçŠ¶æ€ç®¡ç†"><!--[--><!--]--> vuexçŠ¶æ€ç®¡ç† <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/views/Vue/vuex/#å…³äºçŠ¶æ€ç®¡ç†" class="router-link-active router-link-exact-active sidebar-item" aria-label="å…³äºçŠ¶æ€ç®¡ç†"><!--[--><!--]--> å…³äºçŠ¶æ€ç®¡ç† <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/views/Vue/vuex/#vuexä»‹ç»" class="router-link-active router-link-exact-active sidebar-item" aria-label="vuexä»‹ç»"><!--[--><!--]--> vuexä»‹ç» <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/views/Vue/vuex/#æ›´æ”¹çŠ¶æ€" class="router-link-active router-link-exact-active sidebar-item" aria-label="æ›´æ”¹çŠ¶æ€"><!--[--><!--]--> æ›´æ”¹çŠ¶æ€ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/views/Vue/vuex/#è¾…åŠ©å‡½æ•°" class="router-link-active router-link-exact-active sidebar-item" aria-label="è¾…åŠ©å‡½æ•°"><!--[--><!--]--> è¾…åŠ©å‡½æ•° <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/views/Vue/vuex/#vuex-3åŸç†" class="router-link-active router-link-exact-active sidebar-item" aria-label="vuex 3åŸç†"><!--[--><!--]--> vuex 3åŸç† <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/views/Vue/vuex/#vuex3æºç éƒ¨åˆ†" class="router-link-active router-link-exact-active sidebar-item" aria-label="vuex3æºç éƒ¨åˆ†"><!--[--><!--]--> vuex3æºç éƒ¨åˆ† <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/views/Vue/vuex/#step1-store-æ³¨å†Œ" class="router-link-active router-link-exact-active sidebar-item" aria-label="Step1 - store æ³¨å†Œ"><!--[--><!--]--> Step1 - store æ³¨å†Œ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/views/Vue/vuex/#step2-å“åº”å¼" class="router-link-active router-link-exact-active sidebar-item" aria-label="Step2 - å“åº”å¼"><!--[--><!--]--> Step2 - å“åº”å¼ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/views/Vue/vuex/#step3-è¡ç”Ÿæ•°æ®" class="router-link-active router-link-exact-active sidebar-item" aria-label="Step3 - è¡ç”Ÿæ•°æ®"><!--[--><!--]--> Step3 - è¡ç”Ÿæ•°æ® <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/views/Vue/vuex/#step4-actions-mutations" class="router-link-active router-link-exact-active sidebar-item" aria-label="Step4 - Actions/Mutations"><!--[--><!--]--> Step4 - Actions/Mutations <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/views/Vue/vuex/#step5-æ‹†åˆ†å‡ºå¤šä¸ª-module" class="router-link-active router-link-exact-active sidebar-item" aria-label="Step5 - æ‹†åˆ†å‡ºå¤šä¸ª Module"><!--[--><!--]--> Step5 - æ‹†åˆ†å‡ºå¤šä¸ª Module <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/views/Vue/vuex/#step6-æ’ä»¶æœºåˆ¶" class="router-link-active router-link-exact-active sidebar-item" aria-label="Step6 - æ’ä»¶æœºåˆ¶"><!--[--><!--]--> Step6 - æ’ä»¶æœºåˆ¶ <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/views/Vue/vuex/#vuex3å¸¸è§é—®é¢˜" class="router-link-active router-link-exact-active sidebar-item" aria-label="vuex3å¸¸è§é—®é¢˜"><!--[--><!--]--> vuex3å¸¸è§é—®é¢˜ <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/views/Vue/vuex/#vuexä¿®æ”¹æ•°æ®ä¸ºä½•å…œä¸€åœˆ" class="router-link-active router-link-exact-active sidebar-item" aria-label="vuexä¿®æ”¹æ•°æ®ä¸ºä½•å…œä¸€åœˆï¼Ÿ"><!--[--><!--]--> vuexä¿®æ”¹æ•°æ®ä¸ºä½•å…œä¸€åœˆï¼Ÿ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/views/Vue/vuex/#vuexä»€ä¹ˆæ—¶å€™è¿›è¡Œçš„åˆå§‹åŒ–" class="router-link-active router-link-exact-active sidebar-item" aria-label="vuexä»€ä¹ˆæ—¶å€™è¿›è¡Œçš„åˆå§‹åŒ–ï¼Ÿ"><!--[--><!--]--> vuexä»€ä¹ˆæ—¶å€™è¿›è¡Œçš„åˆå§‹åŒ–ï¼Ÿ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/views/Vue/vuex/#vuexè‡ªå·±å®šä¹‰äº†å‘Šè­¦-ä¸ºä»€ä¹ˆä¸ç”¨console-assert" class="router-link-active router-link-exact-active sidebar-item" aria-label="vuexè‡ªå·±å®šä¹‰äº†å‘Šè­¦ï¼Œä¸ºä»€ä¹ˆä¸ç”¨console.assertï¼Ÿ"><!--[--><!--]--> vuexè‡ªå·±å®šä¹‰äº†å‘Šè­¦ï¼Œä¸ºä»€ä¹ˆä¸ç”¨console.assertï¼Ÿ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/views/Vue/vuex/#object-create-null-å’Œ-åŒºåˆ«" class="router-link-active router-link-exact-active sidebar-item" aria-label="object.create(null) å’Œ{}åŒºåˆ«"><!--[--><!--]--> object.create(null) å’Œ{}åŒºåˆ« <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/views/Vue/vuex/#vuex4" class="router-link-active router-link-exact-active sidebar-item" aria-label="vuex4"><!--[--><!--]--> vuex4 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/views/Vue/vuex/#å®‰è£…" class="router-link-active router-link-exact-active sidebar-item" aria-label="å®‰è£…"><!--[--><!--]--> å®‰è£… <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/views/Vue/vuex/#ç”¨æ³•" class="router-link-active router-link-exact-active sidebar-item" aria-label="ç”¨æ³•"><!--[--><!--]--> ç”¨æ³• <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/views/Vue/vuex/#ssr" class="router-link-active router-link-exact-active sidebar-item" aria-label="SSR"><!--[--><!--]--> SSR <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="vuexçŠ¶æ€ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#vuexçŠ¶æ€ç®¡ç†" aria-hidden="true">#</a> vuexçŠ¶æ€ç®¡ç†</h1><p>MVC</p><ul><li>view:html+css</li><li>Controller:js</li><li>Moderl:data</li></ul><p>MVVM</p><ul><li>view</li><li>ViewModel</li><li>Model</li></ul><p>mvvmçš„ç†è§£ æ¯”å¦‚ä¹‹å‰jqueryï¼Œéœ€è¦æ”¹å˜ä¸€ä¸ªæ–¹å—é¢œè‰² ä½ éœ€è¦å…ˆè·å–domèŠ‚ç‚¹ï¼Œå†è¿›è¡Œæ“ä½œé¢œè‰²</p><ol><li>åŒºåˆ«ï¼š å°±æ˜¯ä¸€ä¸ªåŒå‘ç»‘å®š æŠ›å¼ƒäº†å¯¹domçš„ä¸¥æ ¼æ„ŸçŸ¥ æ— éœ€å¯¹æµç¨‹çš„è¿‡ç¨‹åŒ–æ“ä½œ</li><li>å®ç°ï¼š å†™æ³•ä¸Šã€ä»£ç </li></ol><h4 id="vueç»„ä»¶ä¼ å€¼" tabindex="-1"><a class="header-anchor" href="#vueç»„ä»¶ä¼ å€¼" aria-hidden="true">#</a> vueç»„ä»¶ä¼ å€¼</h4><p>é€šè¿‡çˆ¶èŠ‚ç‚¹ eventBus provide injectæä¾›å’Œæ³¨å…¥ vuex</p><h2 id="å…³äºçŠ¶æ€ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#å…³äºçŠ¶æ€ç®¡ç†" aria-hidden="true">#</a> å…³äºçŠ¶æ€ç®¡ç†</h2><blockquote><p>çŠ¶æ€ç®¡ç†æ˜¯å½“å‰å‰ç«¯æ¯”è¾ƒæ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå› ä¸ºè§†å›¾èƒ½ç”¨çŠ¶æ€æè¿°ï¼Œæ‰€ä»¥å‰ç«¯çš„é€»è¾‘å¤æ‚åº¦ç§»åˆ°äº†å¦‚ä½•è®©çŠ¶æ€â€œä¸è¦å‡ºé”™â€ï¼Œå‰ç«¯ä¸åç«¯çš„ä¸€ä¸ªåŒºåˆ«åœ¨äºï¼ŒçŠ¶æ€åœ¨å‰ç«¯æ˜¯é•¿ç”Ÿå‘½å‘¨æœŸçš„ï¼Œåˆä¼šåœ¨è¿™ä¸ªç”Ÿå‘½å‘¨æœŸä¸­æœ‰ä¸å¯æšä¸¾åœ°ã€æœªçŸ¥åœ°ã€éš¾ä»¥è¿½è¸ªçš„å¤šæ¬¡ä¿®æ”¹ï¼Œä¿è¯å…¶æŒ‰ç…§æ—¢å®šè½¨è¿¹ä¸å‡ºé”™å°±å¾ˆå›°éš¾äº†</p></blockquote><blockquote><p>ä¸ºä»€ä¹ˆè¯´æ˜¯æŸä¸€æ—¶åˆ»ï¼ŒçŠ¶æ€ä¸æ˜¯ä¸€æˆä¸å˜çš„ï¼Œå®é™…ä¸šåŠ¡åœºæ™¯ä¸­ï¼ŒçŠ¶æ€æ˜¯ä¸€ç›´åœ¨è¢«æ”¹å˜çš„ï¼Œä»è€Œå¸¦æ¥è§†å›¾çš„éšä¹‹æ›´æ–°ã€‚</p></blockquote><p>å¾€å¤§äº†çœ‹ï¼ŒçŠ¶æ€æœ¬è´¨æ˜¯è¿˜æ˜¯ä¸€ç§å¯ä»¥æè¿°è§†å›¾çŠ¶æ€ã€è¡Œä¸ºçš„æ•°æ®ç»“æ„ï¼ŒçŠ¶æ€çš„ç®¡ç†åˆ™æ˜¯é€šè¿‡ä¸€å®šçš„ç®—æ³•å°†è¿™äº›æ•°æ®ç»“æ„ç»„ç»‡ã€ç®¡ç†èµ·æ¥</p><p>å¾€ç»†äº†çœ‹ï¼ŒçŠ¶æ€å¤§è‡´å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼Œ<strong>æœ¬åœ°çŠ¶æ€</strong>å’Œ<strong>å…±äº«çŠ¶æ€</strong></p><p>æœ¬åœ°çŠ¶æ€å°±æ˜¯ <code>vue</code> ä¸­çš„ <code>data</code>ï¼Œ<code>react</code>ä¸­çš„ <code>state</code>ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸€èˆ¬ä¼šç”¨æ¥æ§åˆ¶å¼¹çª—çš„ç°å®éšè—ã€<code>loading</code>æ•ˆæœç­‰</p><p>å…±äº«çŠ¶æ€æœ€å¸¸è§çš„åœºæ™¯ï¼Œä¸šåŠ¡ä¸­è‚¯å®šä¼šå‡ºç°å¤§é‡éœ€è¦å…„å¼ŸèŠ‚ç‚¹é€šä¿¡ã€ç¥–å­™èŠ‚ç‚¹é€šä¿¡ç­‰æƒ…å†µçš„åœºæ™¯ï¼Œé€šä¿¡çš„ç›®çš„æ˜¯ä¸ºäº†çŠ¶æ€åˆ†äº«ï¼Œè™½ç„¶å¯ä»¥é€šè¿‡ä¸€äº›æ–¹å¼ï¼Œæ¯”å¦‚å›è°ƒå‡½æ•°ç­‰æ‰‹æ®µå®ç°ï¼Œä½†éƒ½ä¸æ˜¯æœ€ä½³å®è·µ</p><blockquote><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå°é¡¹ç›®ä¸éœ€è¦ä»€ä¹ˆçŠ¶æ€ç®¡ç†å·¥å…·ï¼Œç®€å•æ˜¯é¿å…éº»çƒ¦çš„æœ€ä½³å®è·µï¼Œå½“ä½ çš„åº”ç”¨è†¨èƒ€åˆ°ä½ å·²ç»æ— æ³•ç†é¡ºçŠ¶æ€æµçš„æ—¶å€™ï¼Œæ‰æ˜¯ä½ è€ƒè™‘ä½¿ç”¨çŠ¶æ€ç®¡ç†å·¥å…·çš„æ—¶æœº</p><p>é¡¹ç›®çš„å¤æ‚åº¦å’Œç»„ä»¶å±‚æ¬¡ç»“æ„çš„å¤æ‚æ€§æ˜¯è¡¡é‡æ˜¯å¦ä½¿ç”¨çŠ¶æ€ç®¡ç†å·¥å…·çš„æ ‡å‡†ï¼Œè¿™å¤šå¤šå°‘å°‘å–å†³äºç»éªŒ</p></blockquote><p>æ‰€ä»¥ <code>Flux</code> æ¶æ„åŠå…¶è¿½éšè€… <code>Redux</code> <code>Vuex</code>è¢«æå‡ºï¼Œä¸»è¦æ€æƒ³æ˜¯<strong>åº”ç”¨çš„çŠ¶æ€è¢«é›†ä¸­å­˜æ”¾åˆ°ä¸€ä¸ªä»“åº“ä¸­ï¼Œä½†æ˜¯ä»“åº“ä¸­çš„çŠ¶æ€ä¸èƒ½è¢«ç›´æ¥ä¿®æ”¹</strong>ï¼Œ<strong>å¿…é¡»é€šè¿‡ç‰¹å®šçš„æ–¹å¼</strong>æ‰èƒ½æ›´æ–°çŠ¶æ€</p><p>ç†æƒ³çš„çŠ¶æ€ç®¡ç†å·¥å…·éœ€è¦è§£å†³çš„é—®é¢˜</p><ol><li>çŠ¶æ€æ›´æ–°çš„è®¾è®¡ï¼Œ<code>API</code> è¶³å¤Ÿå°‘ï¼Œä¸”ç®€å•</li><li>å¦‚ä½•å…±äº«çŠ¶æ€</li><li>çŠ¶æ€æå‡</li><li>çŠ¶æ€ä¸‹é™</li><li>åŒæ­¥ã€å¼‚æ­¥çš„å¤„ç†</li><li>æŒä¹…çŠ¶æ€å’Œä¸´æ—¶çŠ¶æ€å¦‚ä½•åŒºåˆ†ç»´æŠ¤</li><li>çŠ¶æ€æ›´æ–°çš„äº‹åŠ¡å¦‚ä½•ç®¡ç†</li><li>...</li></ol><h2 id="vuexä»‹ç»" tabindex="-1"><a class="header-anchor" href="#vuexä»‹ç»" aria-hidden="true">#</a> vuexä»‹ç»</h2><div class="custom-container tip"><p class="custom-container-title">å®è·µ</p><blockquote><p><a href="https://github.com/weipxiu/Vue-vuex" target="_blank" rel="noopener noreferrer">vue-vuex æœ€ä½³å®è·µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://bigdata.bihell.com/language/javascript/vue/vuex.html#%E4%B8%80%E3%80%81vuex%E5%88%B0%E5%BA%95%E6%98%AF%E4%B8%AA%E4%BB%80%E4%B9%88%E9%AC%BC" target="_blank" rel="noopener noreferrer">vuex æœ€ä½³å®è·µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote></div><h3 id="æ›´æ”¹çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#æ›´æ”¹çŠ¶æ€" aria-hidden="true">#</a> æ›´æ”¹çŠ¶æ€</h3><p>ã€Œé¡µé¢ dispatch/commitã€-&gt; ã€Œactions/mutationsã€-&gt; ã€ŒçŠ¶æ€å˜æ›´ã€-&gt; ã€Œé¡µé¢æ›´æ–°ã€-&gt; ã€Œé¡µé¢ dispatch/commitã€...</p><ol><li>State</li></ol><p>å½“å‰åº”â½¤çŠ¶æ€ï¼Œå¯ä»¥ç†è§£ä¸ºç»„ä»¶çš„dataæ–¹æ³•è¿”å›çš„Object</p><ol start="2"><li>Mutations</li></ol><p>æ›´æ”¹ Vuex çš„ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤ mutationï¼Œå¿…é¡»æ˜¯åŒæ­¥å‡½æ•°</p><ol start="3"><li>Actions</li></ol><p>Action å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œ,Action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ã€‚</p><ol start="4"><li>Getters</li></ol><p>Getterä¸ºstateçš„è®¡ç®—å±æ€§</p><ol start="5"><li>Modules</li></ol><p>modulesçš„ä¸»è¦åŠŸèƒ½æ˜¯ä¸ºäº†é˜²â½Œstateè¿‡äºåºâ¼¤å’Œå†—ä½™ï¼Œæ‰€ä»¥å¯¹å…¶è¿›â¾æ¨¡å—åŒ–åˆ†éš”</p><h3 id="è¾…åŠ©å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#è¾…åŠ©å‡½æ•°" aria-hidden="true">#</a> è¾…åŠ©å‡½æ•°</h3><ol><li>mapStates ä½¿ç”¨ mapState è¾…åŠ©å‡½æ•°å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆè®¡ç®—å±æ€§ï¼Œå…¥å‚ä¸ºå¯¹è±¡</li><li>mapGetters</li><li>mapMutaions</li><li>mapActions</li></ol><h2 id="vuex-3åŸç†" tabindex="-1"><a class="header-anchor" href="#vuex-3åŸç†" aria-hidden="true">#</a> vuex 3åŸç†</h2><blockquote><p><a href="https://cn.vuejs.org/v2/guide/plugins.html" target="_blank" rel="noopener noreferrer">å¼€å‘ vue æ’ä»¶<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><p>é¦–å…ˆvuexæ˜¯vueçš„ä¸€ä¸ªæ’ä»¶ï¼Œé€šè¿‡Vue.use()ä½¿ç”¨</p><p>æ¯ä¸ªç»„ä»¶ï¼ˆä¹Ÿå°±æ˜¯Vueå®ä¾‹ï¼‰åœ¨beforeCreateçš„ç”Ÿå‘½å‘¨æœŸä¸­éƒ½é€šè¿‡æ··å…¥ï¼ˆVue.mixinï¼‰ å°† <code>$store</code> è¿™æ ·çš„å¿«é€Ÿè®¿é—® <code>store</code> çš„å¿«æ·å±æ€§æ³¨å…¥åˆ°æ¯ä¸€ä¸ª <code>vue</code> å®ä¾‹ä¸­ ä¹Ÿå°±æ˜¯ä¸ºå•¥å¯ä»¥é€šè¿‡<code>this.$store.dispatch</code> ç­‰è°ƒç”¨æ–¹æ³•çš„åŸå› ã€‚ æœ€ç»ˆæ¯ä¸ªVueçš„å®ä¾‹å¯¹è±¡ï¼Œéƒ½æœ‰ä¸€ä¸ª$storeå±æ€§ã€‚ä¸”æ˜¯åŒä¸€ä¸ªStoreå®ä¾‹ã€‚</p><p>è‡³äºä¸ºä»€ä¹ˆ<code>store</code> æ˜¯å“åº”å¼çš„å‘¢ï¼Ÿ å› ä¸ºåˆ©ç”¨ <code>vue</code> çš„<code>data</code> é‡Œçš„çŠ¶æ€æ˜¯å“åº”å¼çš„å•Šï½</p><p>vuexçŠ¶æ€æœºï¼Œæ˜¯æ€»çº¿æœºåˆ¶ï¼Œå•ä¾‹æ¨¡å¼å®ç°çš„ï¼ˆå…¨å±€åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹vuexï¼‰</p><p>ç»“æ„åŸç† åˆå§‹åŒ–æŒ‚è½½ Store å¯¹è±¡è§£æ</p><blockquote><h3 id="vuex3æºç éƒ¨åˆ†" tabindex="-1"><a class="header-anchor" href="#vuex3æºç éƒ¨åˆ†" aria-hidden="true">#</a> vuex3æºç éƒ¨åˆ†</h3></blockquote><h3 id="step1-store-æ³¨å†Œ" tabindex="-1"><a class="header-anchor" href="#step1-store-æ³¨å†Œ" aria-hidden="true">#</a> Step1 - store æ³¨å†Œ</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
* store.js - store æ³¨å†Œ
*/</span>
<span class="token keyword">let</span> Vue

<span class="token comment">// vue æ’ä»¶å¿…é¡»è¦è¿™ä¸ª install å‡½æ•°</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">install</span><span class="token punctuation">(</span><span class="token parameter">_Vue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// æ‹¿åˆ° Vue çš„æ„é€ å™¨ï¼Œå­˜èµ·æ¥</span>
  Vue <span class="token operator">=</span> _Vue
  <span class="token comment">// é€šè¿‡ mixin æ³¨å…¥åˆ°æ¯ä¸€ä¸ªvueå®ä¾‹ ğŸ‘‰ https://cn.vuejs.org/v2/guide/mixins.html</span>
  Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">beforeCreate</span><span class="token operator">:</span> vuexInit <span class="token punctuation">}</span><span class="token punctuation">)</span>
  
  <span class="token keyword">function</span> <span class="token function">vuexInit</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$options
    <span class="token comment">// è¿™æ ·å°±å¯ä»¥é€šè¿‡ this.$store è®¿é—®åˆ° Vuex å®ä¾‹ï¼Œæ‹¿åˆ° store äº†</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>store<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$store <span class="token operator">=</span> <span class="token keyword">typeof</span> options<span class="token punctuation">.</span>store <span class="token operator">===</span> <span class="token string">&#39;function&#39;</span>
        <span class="token operator">?</span> options<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token operator">:</span> options<span class="token punctuation">.</span>store
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>parent <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>$store<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$store <span class="token operator">=</span> options<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>$store
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="step2-å“åº”å¼" tabindex="-1"><a class="header-anchor" href="#step2-å“åº”å¼" aria-hidden="true">#</a> Step2 - å“åº”å¼</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
* store.js - å®ç°å“åº”å¼
*/</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Store</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">resetStoreVM</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>state<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">get</span> <span class="token function">state</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_vm<span class="token punctuation">.</span>_data<span class="token punctuation">.</span>$state
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">resetStoreVM</span><span class="token punctuation">(</span><span class="token parameter">store<span class="token punctuation">,</span> state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å› ä¸º vue å®ä¾‹çš„ data æ˜¯å“åº”å¼çš„ï¼Œæ­£å¥½åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œå°±å¯ä»¥å®ç° state çš„å“åº”å¼</span>
  store<span class="token punctuation">.</span>_vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">$state</span><span class="token operator">:</span> state
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="step3-è¡ç”Ÿæ•°æ®" tabindex="-1"><a class="header-anchor" href="#step3-è¡ç”Ÿæ•°æ®" aria-hidden="true">#</a> Step3 - è¡ç”Ÿæ•°æ®</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
* store.js - è¡ç”Ÿæ•°æ®ï¼ˆgettersï¼‰
*/</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Store</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
    <span class="token keyword">const</span> state <span class="token operator">=</span> options<span class="token punctuation">.</span>state
    
    <span class="token function">resetStoreVM</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> state<span class="token punctuation">)</span>
    
    <span class="token comment">// æˆ‘ä»¬ç”¨ getters æ¥æ”¶é›†è¡ç”Ÿæ•°æ® computed</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>getters <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    
    <span class="token comment">// ç®€å•å¤„ç†ä¸€ä¸‹ï¼Œè¡ç”Ÿä¸å°±æ˜¯è®¡ç®—ä¸€ä¸‹å˜›ï¼Œä¼ å…¥state</span>
    _<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>getters<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> getterFn</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>getters<span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">getterFn</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">get</span> <span class="token function">state</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_vm<span class="token punctuation">.</span>_data<span class="token punctuation">.</span>$state
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">resetStoreVM</span><span class="token punctuation">(</span><span class="token parameter">store<span class="token punctuation">,</span> state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  store<span class="token punctuation">.</span>_vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">$state</span><span class="token operator">:</span> state
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="step4-actions-mutations" tabindex="-1"><a class="header-anchor" href="#step4-actions-mutations" aria-hidden="true">#</a> Step4 - Actions/Mutations</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
* store.js - Actions/Mutations è¡Œä¸ºæ”¹å˜æ•°æ®
*/</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Store</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
    <span class="token keyword">const</span> state <span class="token operator">=</span> options<span class="token punctuation">.</span>state
    
    <span class="token function">resetStoreVM</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> state<span class="token punctuation">)</span>
    
    <span class="token keyword">this</span><span class="token punctuation">.</span>getters <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    
    _<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>getters<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> getterFn</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>getters<span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">getterFn</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    
    <span class="token comment">// å®šä¹‰çš„è¡Œä¸ºï¼Œåˆ†åˆ«å¯¹åº”å¼‚æ­¥å’ŒåŒæ­¥è¡Œä¸ºå¤„ç†</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>actions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>mutations <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    
    _<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>mutations<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> mutation</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>mutations<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token parameter">payload</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// æœ€ç»ˆæ‰§è¡Œçš„å°±æ˜¯ this._vm_data.$state.xxx = xxx è¿™ç§æ“ä½œ</span>
        <span class="token function">mutation</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">,</span> payload<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    
    _<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>actions<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>actions<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token parameter">payload</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// action ä¸“æ³¨äºå¤„ç†å¼‚æ­¥ï¼Œè¿™é‡Œä¼ å…¥ thisï¼Œè¿™æ ·å°±å¯ä»¥åœ¨å¼‚æ­¥é‡Œé¢é€šè¿‡ commit è§¦å‘ mutation åŒæ­¥æ•°æ®å˜åŒ–äº†</span>
        <span class="token function">action</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> payload<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// è§¦å‘ mutation çš„æ–¹å¼å›ºå®šæ˜¯ commit</span>
  <span class="token function">commit</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>mutations<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// è§¦å‘ action çš„æ–¹å¼å›ºå®šæ˜¯ dispatch</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>actions<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">get</span> <span class="token function">state</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_vm<span class="token punctuation">.</span>_data<span class="token punctuation">.</span>$state
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">resetStoreVM</span><span class="token punctuation">(</span><span class="token parameter">store<span class="token punctuation">,</span> state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  store<span class="token punctuation">.</span>_vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">$state</span><span class="token operator">:</span> state
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br></div></div><h3 id="step5-æ‹†åˆ†å‡ºå¤šä¸ª-module" tabindex="-1"><a class="header-anchor" href="#step5-æ‹†åˆ†å‡ºå¤šä¸ª-module" aria-hidden="true">#</a> Step5 - æ‹†åˆ†å‡ºå¤šä¸ª Module</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// module å¯ä»¥å¯¹çŠ¶æ€æ¨¡å‹è¿›è¡Œåˆ†å±‚ï¼Œæ¯ä¸ª module åˆå«æœ‰è‡ªå·±çš„ stateã€gettersã€actions ç­‰</span>

<span class="token comment">// å®šä¹‰ä¸€ä¸ª module åŸºç±»</span>
<span class="token keyword">class</span> <span class="token class-name">Module</span> <span class="token punctuation">{</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">rawModule</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> rawModule <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_rawModule <span class="token operator">=</span> rawModule
    <span class="token keyword">this</span><span class="token punctuation">.</span>_children <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token function">getChild</span> <span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_children<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  
   <span class="token function">addChild</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_children<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> module
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// module-collection.js æŠŠ module æ”¶é›†èµ·æ¥</span>
<span class="token keyword">class</span> <span class="token class-name">ModuleCollection</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token function">register</span><span class="token punctuation">(</span><span class="token parameter">path<span class="token punctuation">,</span> rawModule</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> newModule <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Module</span><span class="token punctuation">(</span>rawModule<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>path<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// å¦‚æœæ˜¯æ ¹æ¨¡å— å°†è¿™ä¸ªæ¨¡å—æŒ‚åœ¨åˆ°æ ¹å®ä¾‹ä¸Š</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">=</span> newModule
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> parent <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> module<span class="token punctuation">.</span><span class="token function">getChild</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span>
      
      parent<span class="token punctuation">.</span><span class="token function">addChild</span><span class="token punctuation">(</span>path<span class="token punctuation">[</span>path<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> newModule<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// å¦‚æœæœ‰ modulesï¼Œå¼€å§‹é€’å½’æ³¨å†Œä¸€æ³¢</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>rawModule<span class="token punctuation">.</span>modules<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>rawModule<span class="token punctuation">.</span>modules<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> rawChildModule</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">,</span> rawChildModule<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// store.js ä¸­</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Store</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å…¶ä½™ä»£ç ...</span>
    
    <span class="token comment">// æ‰€æœ‰çš„ modules æ³¨å†Œè¿›æ¥</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_modules <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModuleCollection</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
    
    <span class="token comment">// ä½†æ˜¯è¿™äº› modules ä¸­çš„ actions, mutations, getters éƒ½æ²¡æœ‰æ³¨å†Œï¼Œæ‰€ä»¥æˆ‘ä»¬åŸæ¥çš„æ–¹æ³•è¦é‡æ–°å†™ä¸€ä¸‹</span>
    <span class="token comment">// é€’å½’çš„å»æ³¨å†Œä¸€ä¸‹å°±è¡Œäº†ï¼Œè¿™é‡ŒæŠ½ç¦»ä¸€ä¸ªæ–¹æ³•å‡ºæ¥å®ç°</span>
    <span class="token function">installModule</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_modules<span class="token punctuation">.</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">installModule</span><span class="token punctuation">(</span><span class="token parameter">store<span class="token punctuation">,</span> state<span class="token punctuation">,</span> path<span class="token punctuation">,</span> root</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// getters</span>
  <span class="token keyword">const</span> getters <span class="token operator">=</span> root<span class="token punctuation">.</span>_rawModule<span class="token punctuation">.</span>getters
  <span class="token keyword">if</span> <span class="token punctuation">(</span>getters<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>getters<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> getterFn</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>getters<span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">getterFn</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>state<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// mutations</span>
  <span class="token keyword">const</span> mutations <span class="token operator">=</span> root<span class="token punctuation">.</span>_rawModule<span class="token punctuation">.</span>mutations
  <span class="token keyword">if</span> <span class="token punctuation">(</span>mutations<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>mutations<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> mutation</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> _mutations <span class="token operator">=</span> store<span class="token punctuation">.</span>mutations<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">(</span>store<span class="token punctuation">.</span>mutations<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      _mutations<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token parameter">payload</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">mutation</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>state<span class="token punctuation">,</span> payload<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      
      store<span class="token punctuation">.</span>mutations<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> _mutations
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// actions</span>
  <span class="token keyword">const</span> actions <span class="token operator">=</span> root<span class="token punctuation">.</span>_rawModule<span class="token punctuation">.</span>actions
  <span class="token keyword">if</span> <span class="token punctuation">(</span>actions<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>actions<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> _actions <span class="token operator">=</span> store<span class="token punctuation">.</span>actions<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">(</span>store<span class="token punctuation">.</span>actions<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      _actions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token parameter">payload</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">action</span><span class="token punctuation">(</span>store<span class="token punctuation">,</span> payload<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      
      store<span class="token punctuation">.</span>actions<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> _actions
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// é€’å½’</span>
  _<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>_children<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> childModule</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">installModule</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">,</span> path<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">,</span> childModule<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br></div></div><h3 id="step6-æ’ä»¶æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#step6-æ’ä»¶æœºåˆ¶" aria-hidden="true">#</a> Step6 - æ’ä»¶æœºåˆ¶</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">(</span>options<span class="token punctuation">.</span>plugins <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">plugin</span> <span class="token operator">=&gt;</span> <span class="token function">plugin</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>ä»¥ä¸Šåªæ˜¯ä»¥æœ€ç®€åŒ–çš„ä»£ç å®ç°äº† <code>vuex</code> æ ¸å¿ƒçš„ <code>state</code> <code>module</code> <code>actions</code> <code>mutations</code> <code>getters</code> æœºåˆ¶ï¼Œ å¦‚æœå¯¹æºä»£ç æ„Ÿå…´è¶£ï¼Œå¯ä»¥çœ‹<a href="https://juejin.cn/post/6844904001192853511#heading-12" target="_blank" rel="noopener noreferrer">vuex æºç æ•´ä½“æ¶æ„<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="vuex3å¸¸è§é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#vuex3å¸¸è§é—®é¢˜" aria-hidden="true">#</a> vuex3å¸¸è§é—®é¢˜</h2><h3 id="vuexä¿®æ”¹æ•°æ®ä¸ºä½•å…œä¸€åœˆ" tabindex="-1"><a class="header-anchor" href="#vuexä¿®æ”¹æ•°æ®ä¸ºä½•å…œä¸€åœˆ" aria-hidden="true">#</a> vuexä¿®æ”¹æ•°æ®ä¸ºä½•å…œä¸€åœˆï¼Ÿ</h3><p>å¼‚æ­¥æ“ä½œå…ˆactionsè°ƒç”¨muationsç„¶åmuationså»ä¿®æ”¹</p><h3 id="vuexä»€ä¹ˆæ—¶å€™è¿›è¡Œçš„åˆå§‹åŒ–" tabindex="-1"><a class="header-anchor" href="#vuexä»€ä¹ˆæ—¶å€™è¿›è¡Œçš„åˆå§‹åŒ–" aria-hidden="true">#</a> vuexä»€ä¹ˆæ—¶å€™è¿›è¡Œçš„åˆå§‹åŒ–ï¼Ÿ</h3><p>beforeCreate</p><h3 id="vuexè‡ªå·±å®šä¹‰äº†å‘Šè­¦-ä¸ºä»€ä¹ˆä¸ç”¨console-assert" tabindex="-1"><a class="header-anchor" href="#vuexè‡ªå·±å®šä¹‰äº†å‘Šè­¦-ä¸ºä»€ä¹ˆä¸ç”¨console-assert" aria-hidden="true">#</a> vuexè‡ªå·±å®šä¹‰äº†å‘Šè­¦ï¼Œä¸ºä»€ä¹ˆä¸ç”¨console.assertï¼Ÿ</h3><p>console.assert å‡½æ•°æŠ¥é”™ä¸ä¼šé˜»æ­¢åç»­ä»£ç æ‰§è¡Œ å› ä¸ºè¦throw Errorï¼ŒæŠŠè¿›ç¨‹æ‰“æ–­</p><h3 id="object-create-null-å’Œ-åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#object-create-null-å’Œ-åŒºåˆ«" aria-hidden="true">#</a> object.create(null) å’Œ{}åŒºåˆ«</h3><ul><li>åŸå‹é“¾é—®é¢˜ <ul><li>object.create(null).__proto__ä¸ºundefined</li><li>{}.__protoæŒ‡å‘Object.prototype</li></ul></li></ul><h2 id="vuex4" tabindex="-1"><a class="header-anchor" href="#vuex4" aria-hidden="true">#</a> vuex4</h2><h3 id="å®‰è£…" tabindex="-1"><a class="header-anchor" href="#å®‰è£…" aria-hidden="true">#</a> å®‰è£…</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> create vite vue3-vuex<span class="token operator"><span class="token file-descriptor important">4</span>&lt;</span>é¡¹â½¬åï¼Œè‡ªå®šä¹‰<span class="token operator">&gt;</span> 
<span class="token builtin class-name">cd</span> vue3-vuex4
<span class="token function">yarn</span> // å®‰è£… node_modules
<span class="token function">yarn</span> <span class="token function">add</span> vuex@next // å®‰è£… vuex
<span class="token function">yarn</span> dev // å¯åŠ¨é¡¹â½¬å¹¶è®¿é—® localhost:3000
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#ç”¨æ³•" aria-hidden="true">#</a> ç”¨æ³•</h3><ul><li>createStore ä¸ä¼ å‚æ•° åœ¨ vue3 ä¸­ä½¿â½¤ vuexï¼Œâ¼Šâ¼ä»£ç å¦‚ä¸‹ï¼ˆmain.jsï¼‰ï¼š</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>app.use æ³¨å†Œæ’ä»¶ï¼ˆvue2 åˆ™ä¸º Vue.useï¼‰æ—¶ï¼Œä¼šâ¾ƒåŠ¨è°ƒâ½¤å‚æ•°çš„ install æ–¹æ³•ï¼ˆä¾‹å¦‚ vue-routerï¼‰ï¼Œå®šä½åˆ° node_modules/vuex/dist/vuex.esm-bundler.js â½‚ä»¶ï¼Œæ‰¾åˆ° install å®šä¹‰çš„ä½ç½®ï¼š</p><p>è·¨ç»„ä»¶ä¼ é€’çŠ¶æ€çš„æ–¹æ³•ä¸­ï¼Œæœ‰ provide/inject ç»„åˆå› æ­¤ä¸‹â¾¯çš„ä»£ç å¯ä»¥è®¿é—®åˆ° store</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code> // App.vue â½‚ä»¶ä¿®æ”¹
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"> 
  <span class="token keyword">import</span> <span class="token punctuation">{</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
  <span class="token keyword">import</span> HelloWorld <span class="token keyword">from</span> <span class="token string">&#39;./components/HelloWorld.vue&#39;</span>
  <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">&#39;store&#39;</span><span class="token punctuation">)</span> 
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">&gt;</span></span>{{ JSON.stringify(store, null, 2) }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HelloWorld</span> <span class="token attr-name">msg</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello vue<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="æºç å¼€å§‹" tabindex="-1"><a class="header-anchor" href="#æºç å¼€å§‹" aria-hidden="true">#</a> æºç å¼€å§‹</h4><ul><li>å°† vuex çš„æ ¸â¼¼æºç åˆ† 3 éƒ¨åˆ†è§£è¯»ï¼Œæ¯éƒ¨åˆ†å°†ç»“åˆå…·ä½“çš„ä¸šåŠ¡ä»£ç è¿›â¾å±•å¼€ï¼ˆæºç â½‚ä»¶ node_modules/vuex/dist/vuex.esm-bundler.jsï¼‰ã€‚</li></ul><ol><li>åˆ›å»º storeï¼Œå¯â»… ModuleCollection åŠæœ«å°¾çš„ installModule å’ŒresetStoreState æ˜¯éœ€è¦å…³æ³¨çš„â½…æ³•ã€‚ <ol><li>ModuleCollection å°†å‚æ•° options è¿›â¾è½¬æ¢ï¼Œæœ¬è´¨æ˜¯å¯¹ options å¯¹è±¡çš„åŒ…è£…ä¸æ‰©å……ï¼Œæ‰©å……ç»“æœä½œä¸ºstore._modules çš„å€¼</li><li>installModule çš„ä½œâ½¤å°±æ˜¯æŠŠ stateã€actionsã€mutationsã€getters åˆ†åˆ«æ³¨å†Œåˆ°ç›¸åº”çš„æ¨¡å—åç§°ä¸‹</li><li>resetStoreState å°†æ ‘çŠ¶ç»“æ„çš„ stateï¼Œç»Ÿâ¼€ä½¿â½¤ reactive ä»£ç†åï¼ŒæŒ‚è½½ store._state ä¸‹ï¼Œè¿™æ ·æœªæ¥å¯¹ state çš„æ›´æ–°ï¼Œå°†å…·æœ‰è¢«è¿½è¸ªçš„èƒ½â¼’ã€‚resetStoreState é™¤äº†åˆå§‹åŒ–ä¼šè°ƒâ½¤ï¼Œé‡ç½® store æ—¶ä»¥åŠåŠ¨æ€æ³¨å†Œæ¨¡å—æ—¶éƒ½ä¼šâ½¤åˆ°ã€‚</li></ol></li><li>store åˆ†å‘</li><li>state å˜æ›´å¼•å‘å‰¯ä½œâ½¤å’Œè§†å›¾æ›´æ–°=&gt;reactive</li></ol><h5 id="vuex4æºç dispatch-å’Œ-commit-å°†åŸå‹ä¸Šçš„åŒåæ–¹æ³•é‡å†™" tabindex="-1"><a class="header-anchor" href="#vuex4æºç dispatch-å’Œ-commit-å°†åŸå‹ä¸Šçš„åŒåæ–¹æ³•é‡å†™" aria-hidden="true">#</a> vuex4æºç dispatch å’Œ commit å°†åŸå‹ä¸Šçš„åŒåæ–¹æ³•é‡å†™ï¼Ÿ</h5><p>â½¬çš„å°±æ˜¯ä¿è¯ï¼Œå½“è§£æ„ commit/dispatch æ—¶ï¼Œthis æŒ‡å‘ä¾æ—§ä¸º store å®ä¾‹</p><h2 id="ssr" tabindex="-1"><a class="header-anchor" href="#ssr" aria-hidden="true">#</a> SSR</h2><p>æœåŠ¡ç«¯æ¸²æŸ“</p><blockquote><p>web1.0 æ—¶ä»£ï¼Œå‡ ä¹æ‰€æœ‰çš„é¡µé¢éƒ½æ˜¯æœåŠ¡ç«¯æ¸²æŸ“çš„...ç°åœ¨ï¼Œåªæ˜¯åˆç»•å›å»äº†è€Œå·²</p></blockquote><h4 id="csr-vs-ssr" tabindex="-1"><a class="header-anchor" href="#csr-vs-ssr" aria-hidden="true">#</a> CSR VS SSR</h4><p>é¦–å…ˆè®©æˆ‘ä»¬çœ‹çœ‹ CSR çš„è¿‡ç¨‹ï¼ˆæµè§ˆå™¨æ¸²æŸ“åŸç†åŸºæœ¬æµç¨‹ï¼‰</p><p><img src="https://raw.githubusercontent.com/yacan8/blog/master/images/æœåŠ¡ç«¯æ¸²æŸ“åŸç†/image-20200730191954015.png" alt="csr"></p><p>è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li>æµè§ˆå™¨é€šè¿‡è¯·æ±‚å¾—åˆ°ä¸€ä¸ª<code>HTML</code>æ–‡æœ¬</li><li>æ¸²æŸ“è¿›ç¨‹è§£æ<code>HTML</code>æ–‡æœ¬ï¼Œæ„å»º<code>DOM</code>æ ‘</li><li>è§£æ<code>HTML</code>çš„åŒæ—¶ï¼Œå¦‚æœé‡åˆ°å†…è”æ ·å¼æˆ–è€…æ ·å¼è„šæœ¬ï¼Œåˆ™ä¸‹è½½å¹¶æ„å»ºæ ·å¼è§„åˆ™ï¼ˆ<code>stytle rules</code>ï¼‰ï¼Œè‹¥é‡åˆ°<code>JavaScrip</code>tè„šæœ¬ï¼Œåˆ™ä¼šä¸‹è½½æ‰§è¡Œè„šæœ¬ã€‚</li><li><code>DOM</code>æ ‘å’Œæ ·å¼è§„åˆ™æ„å»ºå®Œæˆä¹‹åï¼Œæ¸²æŸ“è¿›ç¨‹å°†ä¸¤è€…åˆå¹¶æˆæ¸²æŸ“æ ‘ï¼ˆ<code>render tree</code>ï¼‰</li><li>æ¸²æŸ“è¿›ç¨‹å¼€å§‹å¯¹æ¸²æŸ“æ ‘è¿›è¡Œå¸ƒå±€ï¼Œç”Ÿæˆå¸ƒå±€æ ‘ï¼ˆ<code>layout tree</code>ï¼‰</li><li>æ¸²æŸ“è¿›ç¨‹å¯¹å¸ƒå±€æ ‘è¿›è¡Œç»˜åˆ¶ï¼Œç”Ÿæˆç»˜åˆ¶è®°å½•</li><li>æ¸²æŸ“è¿›ç¨‹çš„å¯¹å¸ƒå±€æ ‘è¿›è¡Œåˆ†å±‚ï¼Œåˆ†åˆ«æ …æ ¼åŒ–æ¯ä¸€å±‚ï¼Œå¹¶å¾—åˆ°åˆæˆå¸§</li><li>æ¸²æŸ“è¿›ç¨‹å°†åˆæˆå¸§ä¿¡æ¯å‘é€ç»™<code>GPU</code>è¿›ç¨‹æ˜¾ç¤ºåˆ°é¡µé¢ä¸­</li></ol><p>å¾ˆå®¹æ˜“å‘ç°ï¼Œ<code>CSR</code> çš„ç‰¹ç‚¹å°±æ˜¯ä¼šåœ¨æµè§ˆå™¨ç«¯çš„è¿è¡Œæ—¶å»åŠ¨æ€çš„æ¸²æŸ“ã€æ›´æ–° <code>DOM</code> èŠ‚ç‚¹ï¼Œç‰¹åˆ«æ˜¯ <code>SPA</code> åº”ç”¨æ¥è¯´ï¼Œå…¶æ¨¡ç‰ˆ <code>HTML</code> åªæœ‰ä¸€ä¸ª <code>DIV</code>ï¼Œç„¶åæ˜¯è¿è¡Œæ—¶ï¼ˆ<code>React</code>ï¼Œ<code>Vue</code>ï¼Œ<code>Svelte</code> ç­‰ï¼‰åŠ¨æ€çš„å¾€é‡Œæ’å…¥å†…å®¹ï¼Œè¿™æ ·çš„è¯å„ç§ <code>BaiduSpider</code> æ‹¿ä¸åˆ°å•¥æœ‰æ•ˆä¿¡æ¯ï¼Œè‡ªç„¶ <code>SEO</code> å°±ä¸å¥½äº†ï¼Œé¡¹ç›®ä¸€æ—¦å¤æ‚èµ·æ¥ï¼Œ <code>bundle</code> å¯èƒ½è¶…ä¹å¯»å¸¸çš„å¤§...è¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¼€é”€</p><p>é‚£ä¹ˆ<code>SSR</code> å‘¢ï¼Œåˆ™æ˜¯æ˜¯æœåŠ¡ç«¯å®Œæˆäº†æ¸²æŸ“è¿‡ç¨‹ï¼Œå°†æ¸²æŸ“å®Œæˆçš„ <code>HTML</code> å­—ç¬¦ä¸²æˆ–è€…æµè¿”å›ç»™æµè§ˆå™¨ï¼Œå°±å°‘äº†è„šæœ¬è§£æã€è¿è¡Œè¿™ä¸€ç¯èŠ‚ï¼Œç†è®ºä¸Š <code>FP</code> è¡¨ç°çš„æ›´ä½³ï¼Œ<code>SEO</code> åŒæ ·</p><p><img src="https://raw.githubusercontent.com/yacan8/blog/master/images/æœåŠ¡ç«¯æ¸²æŸ“åŸç†/image-20200731165404271.png" alt="csr vs ssr"></p><p>ä½†å…¶å®ï¼Œç°åœ¨ <code>SSR</code> ä¹Ÿå¹¶æ²¡æœ‰å¤§è¡Œå…¶é“ï¼Œå‡¡äº‹æœ‰åˆ©æœ‰å¼Šï¼Œ<code>SSR</code> ä¹Ÿæ˜¯æœ‰ç¼ºç‚¹çš„</p><ol><li>å¤æ‚ï¼ŒåŒæ„é¡¹ç›®çš„ä»£ç å¤æ‚åº¦ç›´çº¿ä¸Šå‡ï¼Œå› ä¸ºè¦å…¼å®¹ä¸¤ç§ç¯å¢ƒ</li><li>å¯¹æœåŠ¡ç«¯çš„å¼€é”€å¤§ï¼Œæ—¢ç„¶ <code>HTML</code> éƒ½æ˜¯æ‹¼æ¥å¥½çš„ï¼Œé‚£ä¹ˆä¼ è¾“çš„æ•°æ®è‚¯å®šå°±å¤§å¤šäº†ï¼ŒåŒæ—¶ï¼Œæ‹¿ <code>Node</code> ä¸¾ä¾‹ï¼Œåœ¨å¤„ç† <code>Computed</code> å¯†é›†å‹é€»è¾‘çš„æ—¶å€™æ˜¯é˜»å¡çš„ï¼Œä¸å¾—ä¸ä¸Šè´Ÿè½½å‡è¡¡ã€ç¼“å­˜ç­–ç•¥ç­‰æ¥æå‡</li><li>CI/CD æ›´éº»çƒ¦äº†ï¼Œéœ€è¦åœ¨ä¸€ä¸ª <code>Server</code> ç¯å¢ƒï¼Œæ¯”å¦‚ <code>Node</code></li></ol><blockquote><p>ä¸€èˆ¬æ¥è¯´ï¼ŒToB çš„ä¸šåŠ¡åœºæ™¯åŸºæœ¬ä¸éœ€è¦ SSRï¼Œéœ€è¦ SSR çš„ä¸€å®šæ˜¯å¯¹é¦–å±æˆ–è€… SEO æœ‰å¼ºè¯‰æ±‚çš„ï¼Œä¸ç„¶æ²¡å¿…è¦æé‚£ä¹ˆéº»çƒ¦ï¼Œç®€æ´æ˜¯é¿å…éº»çƒ¦çš„æœ€ä½³å®è·µï¼ŒåŒæ—¶ï¼Œéšç€æµè§ˆå™¨å‘å±•ï¼Œè¶Šæ¥è¶Šå¿«ï¼Œçˆ¬è™«ä¹Ÿè¶Šæ¥è¶Šæ™ºèƒ½ï¼ŒSSR çš„åœºæ™¯åœ¨è¢«å‹ç¼©</p></blockquote><p>è¯´åˆ°äº† <code>CSR</code> å’Œ <code>SSR</code> ï¼Œå…¶å®æˆ‘ä»¬ç°ä»Šå¸¸è§çš„æ¸²æŸ“æ–¹æ¡ˆæœ‰6-7ç§å§ï¼</p><p><img src="https://image-static.segmentfault.com/324/269/3242695953-5c7c0095b3cf5_fix732" alt="render"></p><p>æ³¨æ„ï¼Œè¿™é‡Œæåˆ°äº† <code>hydration</code> è¿™ä¸ªè¯ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„æ€è·¯ï¼Œå¯¹ <code>FP</code> æœ‰å¸®åŠ©ï¼Œä½†æ˜¯ä¸èƒ½æå‡ <code>TTI</code></p><blockquote><p>è¡¥å……èµ„æ–™ï¼ŒåŠ¡å¿…ç²¾è¯»</p><p><a href="https://ssr.vuejs.org/zh/#%E4%BB%80%E4%B9%88%E6%98%AF%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E6%B8%B2%E6%9F%93-ssr-%EF%BC%9F" target="_blank" rel="noopener noreferrer">VUE SSR æŒ‡å—ï¼ˆåŠ¨æ‰‹æ“ç»ƒä¸€ä¸‹æœ€ä½³ï¼‰<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><h4 id="åŒæ„åº”ç”¨" tabindex="-1"><a class="header-anchor" href="#åŒæ„åº”ç”¨" aria-hidden="true">#</a> åŒæ„åº”ç”¨</h4><p>æˆ‘ä»¬ä»¥ä¸Šé¢çš„æŒ‡å—ä¸ºåŸºç¡€è®²è®²åŒæ„åº”ç”¨ï¼ˆå› ä¸ºåŒæ„åº”ç”¨ç®—æ˜¯æ¯”è¾ƒå¤æ‚çš„äº†ï¼‰ï¼Œé€šè¿‡åŒæ„åº”ç”¨è®©å¤§å®¶å¯¹ <code>SSR</code> æœ‰ä¸€ä¸ªæ›´ç›´è§‚ã€ç«‹ä½“çš„è®¤è¯†</p><p>é¦–å…ˆéœ€è¦äº†è§£ä»€ä¹ˆæ˜¯åŒæ„åº”ç”¨</p><blockquote><p>ä¸€ä»½ä»£ç ï¼Œæ—¢å¯ä»¥å®¢æˆ·ç«¯æ¸²æŸ“ï¼Œä¹Ÿå¯ä»¥æœåŠ¡ç«¯æ¸²æŸ“</p></blockquote><p>çœ‹çœ‹å®¢æˆ·ç«¯æ¸²æŸ“ï¼Œå¯¹æˆ‘ä»¬è€Œè¨€ï¼ŒåŸºæœ¬å¯ä»¥è¿™æ ·æ¦‚æ‹¬ï¼šé¡µé¢ = æ¨¡ç‰ˆ + æ•°æ®ï¼Œåº”ç”¨ = è·¯ç”± + é¡µé¢</p><p>æ‰€ä»¥ï¼ŒåŒæ„ï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„çš„æ˜¯æ„äº†ä¸ªå•¥ï¼Ÿï¼Œå°±æ˜¯ <strong>è·¯ç”±</strong>ã€<strong>æ¨¡ç‰ˆ</strong>ã€<strong>æ•°æ®</strong></p><p><img src="https://raw.githubusercontent.com/yacan8/blog/master/images/æœåŠ¡ç«¯æ¸²æŸ“åŸç†/vueæœåŠ¡ç«¯æ¸²æŸ“æ„å»º.png" alt="åŒæ„"></p><p>å‡å®šå¤§å®¶å·²ç»è®¤çœŸé˜…è¯»å¹¶å®é™…æ“ç»ƒäº† <code>VUE SSR</code> æŒ‡å—ï¼Œ</p><p>ç°åœ¨å°±ä¸€äº›å®è·µç»éªŒåšä¸€äº›è¡¥å……ï¼š</p><ol><li><p>æœåŠ¡ç«¯çš„ <code>webpack</code> ä¸ç”¨å…³æ³¨ <code>CSS</code>ï¼Œå®¢æˆ·ç«¯ä¼šæ‰“åŒ…å‡ºæ¥çš„ï¼Œåˆ°æ—¶å€™æ¨ <code>CDN</code>ï¼Œç„¶åæ”¹ä¸€ä¸‹ <code>public path</code> å°±å¥½äº†</p></li><li><p>æœåŠ¡ç«¯çš„ä»£ç ä¸éœ€è¦åˆ† <code>chunk</code>ï¼Œ<code>Node</code> åŸºäºå†…å­˜ä¸€æ¬¡æ€§è¯»å–åè€Œæ›´é«˜æ•ˆ</p></li><li><p>å¦‚æœæœ‰ä¸€äº›æ–¹æ³•éœ€è¦åœ¨ç‰¹å®šçš„ç¯å¢ƒæ‰§è¡Œï¼Œæ¯”å¦‚å®¢æˆ·ç«¯ç¯å¢ƒä¸­ä¸ŠæŠ¥æ—¥å¿—ï¼Œå¯ä»¥åˆ©ç”¨ <code>beforeMouted</code> ä¹‹åçš„ç”Ÿå‘½å‘¨æœŸéƒ½ä¸ä¼šåœ¨æœåŠ¡ç«¯æ‰§è¡Œè¿™ä¸€ç‰¹ç‚¹ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>isBrowser</code> è¿™ç§åˆ¤æ–­</p></li><li><p><code>CSR</code> å’Œ <code>SSR</code> çš„åˆ‡æ¢å’Œé™çº§</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// æ€»æœ‰ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„åœºæ™¯ï¼Œæ¯”å¦‚å°±åªéœ€è¦ CSRï¼Œä¸éœ€è¦ SSR</span>
<span class="token comment">// æˆ–è€…åœ¨ SSR æ¸²æŸ“çš„æ—¶å€™å‡ºé”™äº†ï¼Œé¡µé¢æœ€å¥½ä¸è¦å´©æºƒå•Šï¼Œå¯ä»¥é™çº§æˆ CSR æ¸²æŸ“ï¼Œä¿è¯é¡µé¢èƒ½å¤Ÿå‡ºæ¥</span>

<span class="token comment">// äº’ç›¸åˆ‡æ¢çš„è¯ï¼Œæ€»å¾—æœ‰ä¸ªæ ‡è¯†æ˜¯å§ï¼Œå‘Šè¯‰æˆ‘ç”¨ CSR è¿˜æ˜¯ SSR</span>
<span class="token comment">// search å°±ä¸é”™ï¼Œ/demo?ssr=true</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>ssr <span class="token operator">===</span> <span class="token string">&#39;true&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">url</span><span class="token operator">:</span> req<span class="token punctuation">.</span>url <span class="token punctuation">}</span>
    renderer<span class="token punctuation">.</span><span class="token function">renderToString</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> html</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;demo&#39;</span><span class="token punctuation">)</span> <span class="token comment">// views æ–‡ä»¶ä¸‹çš„ demo.html</span>
      <span class="token punctuation">}</span>
      res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;demo&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></li><li><p><code>Axios</code> å°è£…ï¼Œè‡³å°‘åŒºåˆ†ç¯å¢ƒï¼Œåœ¨å®¢æˆ·ç«¯ç¯å¢ƒæ˜¯éœ€è¦åšä»£ç†çš„</p></li></ol><blockquote><p>è¿™é‡Œçš„æœ€ä½³å®è·µçŸ¥è¯†æŠ›ç –å¼•ç‰ï¼Œè¿˜æ˜¯å¾—è‡ªå·±å»è¸©å‘æ€»ç»“</p></blockquote><p><code>VUE-SSR</code> ä¼˜åŒ–æ–¹æ¡ˆï¼š</p><ol><li>é¡µé¢çº§åˆ«çš„ç¼“å­˜ï¼Œæ¯”å¦‚ <code>nginx</code> <code>micro-caching</code></li><li>è®¾ç½® <code>serverCacheKey</code>ï¼Œå¦‚æœç›¸åŒï¼Œå°†ä½¿ç”¨ç¼“å­˜ï¼Œç»„ä»¶çº§åˆ«çš„ç¼“å­˜</li><li><code>CGI</code> ç¼“å­˜ï¼Œé€šè¿‡ <code>memcache</code> ç­‰ï¼Œå°†ç›¸åŒçš„æ•°æ®è¿”å›ç¼“å­˜ä¸€ä¸‹ï¼Œæ³¨æ„è®¾ç½®ç¼“å­˜æ›´æ–°æœºåˆ¶</li><li>æµå¼ä¼ è¾“ï¼Œä½†æ˜¯å¿…é¡»åœ¨<code> asyncData</code> ä¹‹åï¼Œå¦åˆ™æ²¡æœ‰æ•°æ®ï¼Œè¯´æ˜ä¹Ÿå¯èƒ½ä¼šè¢« <code>CGI</code> è€—æ—¶é˜»å¡</li><li>åˆ†å—ä¼ è¾“ï¼Œè¿™æ ·å‰ç½®çš„ <code>CGI</code> å®Œæˆå°±ä¼šæ¸²æŸ“è¾“å‡ºï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ¡ˆéš¾å•Š</li><li><a href="https://juejin.cn/post/6844903476120518670" target="_blank" rel="noopener noreferrer">JSC<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼Œå°±æ˜¯ä¸ç”¨ <code>vue-loader</code></li></ol><h4 id="ssrç‰¹ç‚¹" tabindex="-1"><a class="header-anchor" href="#ssrç‰¹ç‚¹" aria-hidden="true">#</a> ssrç‰¹ç‚¹</h4><p>ä¼˜ç‚¹ é¦–å±åŠ è½½å¿«ã€æœ‰åˆ©äºseo ç¼ºç‚¹:serverå‹åŠ›å¤§ï¼Œè´Ÿè½½å‡è¡¡</p><p>æœåŠ¡ç«¯ä¸ºä»€ä¹ˆä¸å¯¼å‡ºä¸€ä¸ªrouterå®ä¾‹ï¼Œè€Œæ˜¯å·¥ç¨‹æ¨¡å¼å‡½æ•°å°è£… å› ä¸ºç”¨æˆ·æ¯ä¸€ä¸ªè¯·æ±‚éƒ½åˆ›å»ºä¸€ä¸ªå®ä¾‹Â·</p><h1 id="vuex-4ç‰ˆæœ¬" tabindex="-1"><a class="header-anchor" href="#vuex-4ç‰ˆæœ¬" aria-hidden="true">#</a> vuex 4ç‰ˆæœ¬</h1><p>vuex æ˜¯â¼€ä¸ªä¸“ä¸º vue.js åº”â½¤ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ + åº“ã€‚å®ƒé‡‡â½¤é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”â½¤çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥â¼€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚ ä¸ vuex 4 ç›¸åŒ¹é…çš„ç‰ˆæœ¬æ˜¯ vue 3ã€‚</p><p>åœ¨ç»„ä»¶è®¿é—®store injectæˆ–è€…$stroe</p><p>é‡å†™äº†dispatchå’Œcontentæ˜¯ä¸ºäº†ä¿è¯thisæŒ‡å‘storeå®ä¾‹</p><p>reduxæ˜¯å’Œreactç‹¬ç«‹çš„ï¼Œvuexä¾èµ–äºvuexï¼Œä¸ºvueè€Œç”Ÿ å•å‘æ•°æ®æµ</p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">ä¸Šæ¬¡æ›´æ–°æ—¶é—´: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">è´¡çŒ®è€…åˆ—è¡¨: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 768206581@qq.com">liuchenglong</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.02f2aee7.js" defer></script>
  </body>
</html>
